<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Otterseas - Build Your Dive Story</title>
  <link rel="icon" href="logo.png" type="image/png">
  
  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,400;0,9..40,500;0,9..40,600;0,9..40,700;1,9..40,400&family=Outfit:wght@400;500;600;700&display=swap" rel="stylesheet">
  
  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  
  <!-- React -->
  <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    html, body, #root { height: 100%; width: 100%; overflow: hidden; }
    body { font-family: 'DM Sans', sans-serif; }
    
    /* Hide scrollbar */
    .hide-scrollbar::-webkit-scrollbar { display: none; }
    .hide-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
    
    /* Sticker card animations */
    .sticker-card {
      transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    }
    .sticker-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 12px 24px -8px rgba(10, 37, 64, 0.2);
    }
    .sticker-card.selected {
      box-shadow: 0 0 0 3px #D99E30, 0 12px 24px -8px rgba(217, 158, 48, 0.3);
    }
    .sticker-card.animating {
      animation: pulse 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    @keyframes pulse {
      0%, 100% { transform: scale(1) translateY(-4px); }
      50% { transform: scale(1.05) translateY(-4px); }
    }
    
    /* Fade in animation for stickers */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(8px); }
      to { opacity: 1; transform: translateY(0); }
    }
    .sticker-fade-in {
      animation: fadeIn 0.3s cubic-bezier(0.4, 0, 0.2, 1) forwards;
    }
    
    /* Slide in animation for cart items */
    @keyframes slideIn {
      from { opacity: 0; transform: translateX(-12px); }
      to { opacity: 1; transform: translateX(0); }
    }
    .cart-item-enter {
      animation: slideIn 0.25s cubic-bezier(0.4, 0, 0.2, 1) forwards;
    }
    
    /* Tab button transitions */
    .tab-button {
      transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    /* Bundle card hover */
    .bundle-card {
      transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    }
    .bundle-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 24px -4px rgba(217, 158, 48, 0.3);
    }
  </style>
</head>
<body>
  <div id="root"></div>
  
  <script type="text/babel">
    const { useState } = React;

    // ===========================================
    // STICKER DATA - Replace with your Shopify product data
    // ===========================================
    const STICKERS = {
      'UK/Europe': [
        { id: 'uk-1', name: 'Scapa Flow', region: 'UK/Europe', shopifyVariantId: 'PLACEHOLDER_UK1', productUrl: 'https://yourstore.com/products/scapa-flow'  },
        { id: 'uk-2', name: 'SS Thistlegorm', region: 'UK/Europe', shopifyVariantId: 'PLACEHOLDER_UK2' },
        { id: 'uk-3', name: 'HMS Royal Oak', region: 'UK/Europe', shopifyVariantId: 'PLACEHOLDER_UK3' },
        { id: 'uk-4', name: 'Farne Islands', region: 'UK/Europe', shopifyVariantId: 'PLACEHOLDER_UK4' },
        { id: 'uk-5', name: 'Lundy Island', region: 'UK/Europe', shopifyVariantId: 'PLACEHOLDER_UK5' },
        { id: 'uk-6', name: 'Malta Wrecks', region: 'UK/Europe', shopifyVariantId: 'PLACEHOLDER_UK6' },
        { id: 'uk-7', name: 'Orkney Islands', region: 'UK/Europe', shopifyVariantId: 'PLACEHOLDER_UK7' },
        { id: 'uk-8', name: 'Plymouth Sound', region: 'UK/Europe', shopifyVariantId: 'PLACEHOLDER_UK8' },
      ],
      'USA/Canada': [
        { id: 'us-1', name: 'Florida Keys', region: 'USA/Canada', shopifyVariantId: 'PLACEHOLDER_US1' },
        { id: 'us-2', name: 'Monterey Bay', region: 'USA/Canada', shopifyVariantId: 'PLACEHOLDER_US2' },
        { id: 'us-3', name: 'Great Lakes', region: 'USA/Canada', shopifyVariantId: 'PLACEHOLDER_US3' },
        { id: 'us-4', name: 'Vancouver Island', region: 'USA/Canada', shopifyVariantId: 'PLACEHOLDER_US4' },
        { id: 'us-5', name: 'North Carolina', region: 'USA/Canada', shopifyVariantId: 'PLACEHOLDER_US5' },
        { id: 'us-6', name: 'Channel Islands', region: 'USA/Canada', shopifyVariantId: 'PLACEHOLDER_US6' },
        { id: 'us-7', name: 'Hawaii', region: 'USA/Canada', shopifyVariantId: 'PLACEHOLDER_US7' },
        { id: 'us-8', name: 'Puget Sound', region: 'USA/Canada', shopifyVariantId: 'PLACEHOLDER_US8' },
      ],
      'Caribbean': [
        { id: 'cb-1', name: 'Cozumel', region: 'Caribbean', shopifyVariantId: 'PLACEHOLDER_CB1' },
        { id: 'cb-2', name: 'Bonaire', region: 'Caribbean', shopifyVariantId: 'PLACEHOLDER_CB2' },
        { id: 'cb-3', name: 'Grand Cayman', region: 'Caribbean', shopifyVariantId: 'PLACEHOLDER_CB3' },
        { id: 'cb-4', name: 'Roatan', region: 'Caribbean', shopifyVariantId: 'PLACEHOLDER_CB4' },
        { id: 'cb-5', name: 'Turks & Caicos', region: 'Caribbean', shopifyVariantId: 'PLACEHOLDER_CB5' },
        { id: 'cb-6', name: 'Saba', region: 'Caribbean', shopifyVariantId: 'PLACEHOLDER_CB6' },
        { id: 'cb-7', name: 'St. Lucia', region: 'Caribbean', shopifyVariantId: 'PLACEHOLDER_CB7' },
        { id: 'cb-8', name: 'Belize Barrier', region: 'Caribbean', shopifyVariantId: 'PLACEHOLDER_CB8' },
      ],
      'Latin America': [
        { id: 'la-1', name: 'Galápagos', region: 'Latin America', shopifyVariantId: 'PLACEHOLDER_LA1' },
        { id: 'la-2', name: 'Cenotes', region: 'Latin America', shopifyVariantId: 'PLACEHOLDER_LA2' },
        { id: 'la-3', name: 'Cocos Island', region: 'Latin America', shopifyVariantId: 'PLACEHOLDER_LA3' },
        { id: 'la-4', name: 'Fernando de Noronha', region: 'Latin America', shopifyVariantId: 'PLACEHOLDER_LA4' },
        { id: 'la-5', name: 'Socorro', region: 'Latin America', shopifyVariantId: 'PLACEHOLDER_LA5' },
        { id: 'la-6', name: 'Belize Blue Hole', region: 'Latin America', shopifyVariantId: 'PLACEHOLDER_LA6' },
        { id: 'la-7', name: 'Sea of Cortez', region: 'Latin America', shopifyVariantId: 'PLACEHOLDER_LA7' },
        { id: 'la-8', name: 'Isla Mujeres', region: 'Latin America', shopifyVariantId: 'PLACEHOLDER_LA8' },
      ],
      'Indo-Pacific': [
        { id: 'ip-1', name: 'Raja Ampat', region: 'Indo-Pacific', shopifyVariantId: 'PLACEHOLDER_IP1' },
        { id: 'ip-2', name: 'Komodo', region: 'Indo-Pacific', shopifyVariantId: 'PLACEHOLDER_IP2' },
        { id: 'ip-3', name: 'Sipadan', region: 'Indo-Pacific', shopifyVariantId: 'PLACEHOLDER_IP3' },
        { id: 'ip-4', name: 'Great Barrier Reef', region: 'Indo-Pacific', shopifyVariantId: 'PLACEHOLDER_IP4' },
        { id: 'ip-5', name: 'Palau', region: 'Indo-Pacific', shopifyVariantId: 'PLACEHOLDER_IP5' },
        { id: 'ip-6', name: 'Maldives', region: 'Indo-Pacific', shopifyVariantId: 'PLACEHOLDER_IP6' },
        { id: 'ip-7', name: 'Philippines', region: 'Indo-Pacific', shopifyVariantId: 'PLACEHOLDER_IP7' },
        { id: 'ip-8', name: 'Thailand', region: 'Indo-Pacific', shopifyVariantId: 'PLACEHOLDER_IP8' },
      ],
      'Indian Ocean': [
        { id: 'io-1', name: 'Maldives', region: 'Indian Ocean', shopifyVariantId: 'PLACEHOLDER_IO1' },
        { id: 'io-2', name: 'Seychelles', region: 'Indian Ocean', shopifyVariantId: 'PLACEHOLDER_IO2' },
        { id: 'io-3', name: 'Mozambique', region: 'Indian Ocean', shopifyVariantId: 'PLACEHOLDER_IO3' },
        { id: 'io-4', name: 'Sharm El Sheikh', region: 'Indian Ocean', shopifyVariantId: 'PLACEHOLDER_IO4' },
        { id: 'io-5', name: 'Hurghada', region: 'Indian Ocean', shopifyVariantId: 'PLACEHOLDER_IO5' },
        { id: 'io-6', name: 'Dahab', region: 'Indian Ocean', shopifyVariantId: 'PLACEHOLDER_IO6' },
        { id: 'io-7', name: 'Marsa Alam', region: 'Indian Ocean', shopifyVariantId: 'PLACEHOLDER_IO7' },
        { id: 'io-8', name: 'Zanzibar', region: 'Indian Ocean', shopifyVariantId: 'PLACEHOLDER_IO8' },
      ],
      'Expeditions': [
        { id: 'ex-1', name: 'Antarctica', region: 'Expeditions', shopifyVariantId: 'PLACEHOLDER_EX1' },
        { id: 'ex-2', name: 'Truk Lagoon', region: 'Expeditions', shopifyVariantId: 'PLACEHOLDER_EX2' },
        { id: 'ex-3', name: 'Bikini Atoll', region: 'Expeditions', shopifyVariantId: 'PLACEHOLDER_EX3' },
        { id: 'ex-4', name: 'Coron Bay', region: 'Expeditions', shopifyVariantId: 'PLACEHOLDER_EX4' },
        { id: 'ex-5', name: 'Red Sea Liveaboard', region: 'Expeditions', shopifyVariantId: 'PLACEHOLDER_EX5' },
        { id: 'ex-6', name: 'Arctic Circle', region: 'Expeditions', shopifyVariantId: 'PLACEHOLDER_EX6' },
        { id: 'ex-7', name: 'Galápagos Liveaboard', region: 'Expeditions', shopifyVariantId: 'PLACEHOLDER_EX7' },
        { id: 'ex-8', name: 'Papua New Guinea', region: 'Expeditions', shopifyVariantId: 'PLACEHOLDER_EX8' },
      ],
    };

    // ===========================================
    // BUNDLE DATA
    // ===========================================
    const BUNDLES = [
      { id: 'bundle-1', name: 'The Wreck Pack', description: '5 legendary wreck dives', stickerIds: ['uk-2', 'us-3', 'ex-2', 'ex-3', 'ex-4'] },
      { id: 'bundle-2', name: 'Tropical Starter', description: '5 warm water favorites', stickerIds: ['cb-1', 'cb-2', 'ip-1', 'ip-6', 'la-1'] },
      { id: 'bundle-3', name: 'UK Explorer', description: '5 British Isles classics', stickerIds: ['uk-1', 'uk-3', 'uk-4', 'uk-5', 'uk-6'] },
    ];

    // ===========================================
    // CONFIGURATION
    // ===========================================
    const REGIONS = Object.keys(STICKERS);
    const MIN_ORDER = 5;
    const BASE_PRICE = 2.50;

    const getPricePerItem = (totalItems) => {
      if (totalItems >= 21) return 1.50;
      if (totalItems >= 11) return 1.75;
      return 2.50;
    };

    const getPricingTier = (totalItems) => {
      if (totalItems >= 21) return { tier: 'Best Value', color: '#4ade80', next: null };
      if (totalItems >= 11) return { tier: 'Great Deal', color: '#D99E30', next: 21 - totalItems };
      return { tier: 'Standard', color: '#94a3b8', next: 11 - totalItems };
    };

    const getAllStickers = () => Object.values(STICKERS).flat();

    // ===========================================
    // MAIN COMPONENT
    // ===========================================
    function OtterseasStickerBuilder() {
      const [cart, setCart] = useState({});
      const [activeTab, setActiveTab] = useState(REGIONS[0]);
      const [animatingItems, setAnimatingItems] = useState(new Set());

      // Calculated values
      const totalItems = Object.values(cart).reduce((sum, qty) => sum + qty, 0);
      const pricePerItem = getPricePerItem(totalItems);
      const totalPrice = totalItems * pricePerItem;
      const canCheckout = totalItems >= MIN_ORDER;
      const pricingTier = getPricingTier(totalItems);
      const savings = (totalItems * BASE_PRICE) - totalPrice;
      const activeStickers = STICKERS[activeTab] || [];
      const cartStickers = Object.keys(cart)
        .map(id => ({ ...getAllStickers().find(s => s.id === id), quantity: cart[id] }))
        .filter(s => s.id);

      // Event handlers
      const toggleSticker = (stickerId) => {
        setAnimatingItems(prev => new Set(prev).add(stickerId));
        setTimeout(() => {
          setAnimatingItems(prev => { const next = new Set(prev); next.delete(stickerId); return next; });
        }, 300);
        setCart(prev => {
          const newCart = { ...prev };
          if (newCart[stickerId]) delete newCart[stickerId];
          else newCart[stickerId] = 1;
          return newCart;
        });
      };

      const updateQuantity = (stickerId, delta) => {
        setCart(prev => {
          const newCart = { ...prev };
          const newQty = (newCart[stickerId] || 0) + delta;
          if (newQty <= 0) delete newCart[stickerId];
          else newCart[stickerId] = newQty;
          return newCart;
        });
      };

      const addBundle = (bundle) => {
        setCart(prev => {
          const newCart = { ...prev };
          bundle.stickerIds.forEach(id => { newCart[id] = (newCart[id] || 0) + 1; });
          return newCart;
        });
      };

      const handleCheckout = () => {
        const cartItems = Object.entries(cart).map(([id, qty]) => {
          const sticker = getAllStickers().find(s => s.id === id);
          return { variantId: sticker?.shopifyVariantId || id, quantity: qty };
        });
        const cartString = cartItems.map(item => `${item.variantId}:${item.quantity}`).join(',');
        const baseUrl = 'https://yourstore.myshopify.com/cart/';
        let discountParam = '';
        if (totalItems >= 21) discountParam = '?discount=BULK21';
        else if (totalItems >= 11) discountParam = '?discount=BULK11';
        const checkoutUrl = `${baseUrl}${cartString}${discountParam}`;
        
        console.log('Checkout URL:', checkoutUrl);
        alert(`Checkout URL logged to console!\n\nTotal: ${totalItems} stickers\nPrice: £${totalPrice.toFixed(2)}\nYou save: £${savings.toFixed(2)}`);
      };

      return (
        <div className="h-screen w-full overflow-hidden flex flex-col" style={{ fontFamily: "'DM Sans', sans-serif" }}>
          {/* HEADER */}
          <header 
            className="flex-shrink-0 h-16 flex items-center justify-between px-6 z-50"
            style={{ background: 'linear-gradient(135deg, #0A2540 0%, #0d3252 50%, #0A2540 100%)', boxShadow: '0 4px 20px rgba(10, 37, 64, 0.3)' }}
          >
            <div className="flex items-center gap-3">
              <img src="/logo.png" alt="Otterseas" className="w-9 h-9 rounded-xl object-contain" />
              <span className="text-xl font-semibold tracking-tight text-white" style={{ fontFamily: "'Outfit', sans-serif" }}>
                Otterseas
              </span>
            </div>
            
            <div className="hidden md:flex items-center text-sm" style={{ color: '#D99E30' }}>
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" className="mr-2">
                <path d="M5 12h14M12 5l7 7-7 7"/>
              </svg>
              Free shipping on orders of 10+ stickers
            </div>
            
            <a href="#surface-tank" className="flex items-center gap-2 text-sm font-medium px-4 py-2 rounded-full transition-all hover:scale-105" style={{ backgroundColor: '#D99E30', color: 'white' }}>
              <span>Need a Surface Tank?</span>
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <path d="M5 12h14M12 5l7 7-7 7"/>
              </svg>
            </a>
          </header>

          {/* MAIN CONTENT */}
          <div className="flex-1 flex flex-col md:flex-row overflow-hidden">
            
            {/* LEFT COLUMN - MARKETPLACE */}
            <div className="flex-1 md:w-[70%] flex flex-col overflow-hidden bg-white">
              
              {/* INTRO SECTION */}
              <div className="flex-shrink-0 px-6 py-6" style={{ background: 'linear-gradient(135deg, #0A2540 0%, #133659 50%, #0A2540 100%)', borderBottom: '4px solid #D99E30' }}>
                <div className="max-w-2xl">
                  <h1 className="text-2xl md:text-3xl font-bold text-white mb-3" style={{ fontFamily: "'Outfit', sans-serif" }}>
                    Build Your Dive Story
                  </h1>
                  <p className="text-white/70 text-sm md:text-base leading-relaxed">
                    Memories that stick. Collect the dive sites you've visited, the wrecks & reef you've explored, 
                    or aspire to visit! Built your own dive passport. Mask up your Surface Tank, laptop, or
                    dive case with waterproof vinyl stickers that tell your underwater Jounrey.
                  </p>
                  
                  {/* Pricing Tiers */}
                  <div className="flex flex-wrap gap-3 mt-5">
                    <div className="flex items-center gap-2 px-4 py-2 rounded-full text-xs font-medium" style={{ backgroundColor: 'rgba(148, 163, 184, 0.2)', color: '#cbd5e1', border: '1px solid rgba(148, 163, 184, 0.3)' }}>
                      <span className="w-2 h-2 rounded-full bg-slate-400"></span>
                      1-10 stickers: £2.50 each
                    </div>
                    <div className="flex items-center gap-2 px-4 py-2 rounded-full text-xs font-medium" style={{ backgroundColor: 'rgba(217, 158, 48, 0.2)', color: '#D99E30', border: '1px solid rgba(217, 158, 48, 0.3)' }}>
                      <span className="w-2 h-2 rounded-full" style={{ backgroundColor: '#D99E30' }}></span>
                      11-20 stickers: £1.75 each
                    </div>
                    <div className="flex items-center gap-2 px-4 py-2 rounded-full text-xs font-medium" style={{ backgroundColor: 'rgba(74, 222, 128, 0.2)', color: '#4ade80', border: '1px solid rgba(74, 222, 128, 0.3)' }}>
                      <span className="w-2 h-2 rounded-full" style={{ backgroundColor: '#4ade80' }}></span>
                      21+ stickers: £1.50 each
                    </div>
                  </div>
                </div>
              </div>

              {/* REGION TABS */}
              <div className="flex-shrink-0 px-6 py-4 bg-white" style={{ boxShadow: '0 4px 12px rgba(10, 37, 64, 0.08)' }}>
                <div className="flex gap-2 overflow-x-auto hide-scrollbar">
                  {REGIONS.map((region) => (
                    <button
                      key={region}
                      onClick={() => setActiveTab(region)}
                      className={`tab-button relative px-5 py-2.5 text-sm font-medium rounded-xl whitespace-nowrap ${activeTab === region ? 'text-white shadow-lg' : 'text-gray-600 hover:text-gray-900 bg-gray-50 hover:bg-gray-100 border border-gray-200'}`}
                      style={activeTab === region ? { background: 'linear-gradient(135deg, #D99E30 0%, #c48a20 100%)', boxShadow: '0 4px 12px rgba(217, 158, 48, 0.4)' } : {}}
                    >
                      {region}
                    </button>
                  ))}
                </div>
              </div>

              {/* STICKER GRID */}
              <div className="flex-1 overflow-y-auto hide-scrollbar p-6" style={{ background: 'linear-gradient(180deg, #ffffff 0%, #f8fafc 100%)' }}>
                <div className="mb-6">
                  <div className="flex items-center justify-between mb-5">
                    <h2 className="text-xl font-bold flex items-center gap-3" style={{ fontFamily: "'Outfit', sans-serif", color: '#0A2540' }}>
                      <span className="w-1.5 h-7 rounded-full" style={{ backgroundColor: '#D99E30' }}></span>
                      {activeTab}
                      <span className="text-sm font-medium px-3 py-1 rounded-full" style={{ backgroundColor: 'rgba(217, 158, 48, 0.15)', color: '#D99E30' }}>
                        {activeStickers.length} stickers
                      </span>
                    </h2>
                  </div>
                  
                  <div className="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4">
                    {activeStickers.map((sticker, index) => {
                      const isSelected = cart[sticker.id];
                      const isAnimating = animatingItems.has(sticker.id);
                      
                      return (
                        <button
                          key={sticker.id}
                          onClick={() => toggleSticker(sticker.id)}
                          className={`sticker-card sticker-fade-in relative bg-white rounded-2xl p-4 text-left border-2 ${isSelected ? 'selected border-transparent' : 'border-gray-100 hover:border-gray-200'} ${isAnimating ? 'animating' : ''}`}
                          style={{ animationDelay: `${index * 30}ms` }}
                        >
                          <div 
                            className="aspect-square rounded-xl mb-3 flex items-center justify-center relative overflow-hidden"
                            style={{ background: isSelected ? 'linear-gradient(135deg, #D99E30 0%, #c48a20 100%)' : 'linear-gradient(135deg, #0A2540 0%, #133659 100%)' }}
                          >
                            <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="white" strokeWidth="1.5" opacity={isSelected ? 0.9 : 0.4}>
                              <circle cx="12" cy="12" r="10"/>
                              <path d="M12 2a10 10 0 0 0 0 20"/>
                              <path d="M2 12h20"/>
                              <path d="M12 2c2.5 2.5 4 6 4 10s-1.5 7.5-4 10"/>
                            </svg>
                            
                            {isSelected && (
                              <div className="absolute top-2 right-2 w-7 h-7 rounded-full flex items-center justify-center bg-white shadow-lg">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#D99E30" strokeWidth="3">
                                  <path d="M20 6L9 17l-5-5"/>
                                </svg>
                              </div>
                            )}
                          </div>
                          
                          <p className="text-sm font-semibold text-gray-900 truncate">{sticker.name}</p>
                         <div className="flex items-center justify-between mt-1">
                          <p className="text-sm font-bold" style={{ color: '#D99E30' }}>£{BASE_PRICE.toFixed(2)}</p>
                          {sticker.productUrl && (
                            <a
                              href={sticker.productUrl}
                              target="_blank"
                              rel="noopener noreferrer"
                              onClick={(e) => e.stopPropagation()}
                              className="w-6 h-6 rounded-md flex items-center justify-center transition-all hover:scale-110"
                              style={{ backgroundColor: 'rgba(10, 37, 64, 0.1)' }}
                              title="View product page"
                            >
                              <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="#0A2540" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/>
                                <polyline points="15 3 21 3 21 9"/>
                                <line x1="10" y1="14" x2="21" y2="3"/>
                              </svg>
                            </a>
                          )}
                        </div>
                        
                        </button>
                      );
                    })}
                  </div>
                </div>

                {/* BUNDLES */}
                <div className="mt-8 rounded-2xl p-6" style={{ background: 'linear-gradient(135deg, #0A2540 0%, #0d3252 50%, #0A2540 100%)', boxShadow: '0 8px 32px rgba(10, 37, 64, 0.3)' }}>
                  <h2 className="text-xl font-bold mb-1 text-white flex items-center gap-3" style={{ fontFamily: "'Outfit', sans-serif" }}>
                    <span className="w-1.5 h-7 rounded-full" style={{ backgroundColor: '#D99E30' }}></span>
                    Quick Add Packs
                  </h2>
                  <p className="text-white/50 text-sm mb-6 ml-5">Jump-start your collection with curated bundles</p>
                  
                  <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
                    {BUNDLES.map((bundle) => (
                      <div key={bundle.id} className="bundle-card rounded-xl p-5 flex flex-col" style={{ backgroundColor: 'rgba(217, 158, 48, 0.1)', border: '2px solid rgba(217, 158, 48, 0.3)' }}>
                        <div className="flex items-start justify-between mb-3">
                          <div>
                            <h3 className="font-bold text-white">{bundle.name}</h3>
                            <p className="text-sm text-white/50 mt-0.5">{bundle.description}</p>
                          </div>
                          <span className="text-xs font-bold px-2.5 py-1.5 rounded-lg" style={{ backgroundColor: '#D99E30', color: 'white' }}>5 stickers</span>
                        </div>
                        
                        <div className="flex gap-2 mb-4">
                          {[0,1,2,3,4].map(i => (
                            <div key={i} className="w-10 h-10 rounded-lg" style={{ background: 'linear-gradient(135deg, #D99E30 0%, #c48a20 100%)', opacity: 0.5 + (i * 0.12) }} />
                          ))}
                        </div>
                        
                        <button onClick={() => addBundle(bundle)} className="mt-auto w-full py-3 rounded-xl text-sm font-bold transition-all hover:scale-[1.02]" style={{ backgroundColor: '#D99E30', color: 'white' }}>
                          Add Pack · £{(BASE_PRICE * 5).toFixed(2)}
                        </button>
                      </div>
                    ))}
                  </div>
                </div>
                
                <div className="h-48 md:h-8" />
              </div>
            </div>

            {/* RIGHT COLUMN - CART SIDEBAR (Desktop) */}
            <div className="hidden md:flex md:w-[30%] flex-col" style={{ background: 'linear-gradient(180deg, #0A2540 0%, #071a2e 100%)' }}>
              
              {/* VISUALIZER */}
              <div className="flex-shrink-0 p-6" style={{ background: 'linear-gradient(180deg, rgba(217, 158, 48, 0.15) 0%, transparent 100%)', borderBottom: '1px solid rgba(217, 158, 48, 0.2)' }}>
                <div className="relative flex items-center justify-center py-6">
                  <div className="relative">
                    <div className="w-24 h-36 rounded-2xl flex items-center justify-center" style={{ background: 'linear-gradient(180deg, #1a4a7a 0%, #0A2540 100%)', boxShadow: '0 8px 32px rgba(0,0,0,0.4), inset 0 1px 0 rgba(255,255,255,0.1), 0 0 0 2px rgba(217, 158, 48, 0.3)' }}>
                      <svg width="36" height="36" viewBox="0 0 24 24" fill="none" stroke="#D99E30" strokeWidth="1.5" opacity="0.7">
                        <path d="M6 2h12v6l-2 2v10a2 2 0 0 1-2 2H10a2 2 0 0 1-2-2V10L6 8V2z"/>
                        <path d="M6 2h12v2H6z"/>
                      </svg>
                    </div>
                    
                    {totalItems > 0 && (
                      <div className="absolute -top-3 -right-3 w-12 h-12 rounded-full flex items-center justify-center text-base font-bold" style={{ backgroundColor: '#D99E30', color: 'white', boxShadow: '0 4px 16px rgba(217, 158, 48, 0.5)' }}>
                        {totalItems}
                      </div>
                    )}
                  </div>
                </div>
                
                <div className="text-center">
                  <p className="text-white/80 text-sm font-medium">
                    {totalItems === 0 ? 'Select stickers to build your pack' : `${totalItems} sticker${totalItems !== 1 ? 's' : ''} selected`}
                  </p>
                  
                  {totalItems > 0 && (
                    <div className="inline-flex items-center gap-2 mt-3 px-4 py-2 rounded-full text-xs font-bold" style={{ backgroundColor: `${pricingTier.color}25`, color: pricingTier.color, border: `2px solid ${pricingTier.color}50` }}>
                      <span className="w-2 h-2 rounded-full" style={{ backgroundColor: pricingTier.color }}></span>
                      {pricingTier.tier} · £{pricePerItem.toFixed(2)}/sticker
                    </div>
                  )}
                  
                  {pricingTier.next && totalItems > 0 && (
                    <p className="text-white/40 text-xs mt-2">Add {pricingTier.next} more for next tier!</p>
                  )}
                </div>
              </div>

              {/* CART LIST */}
              <div className="flex-1 overflow-y-auto hide-scrollbar p-4">
                {cartStickers.length === 0 ? (
                  <div className="flex flex-col items-center justify-center h-full text-center px-4">
                    <div className="w-20 h-20 rounded-2xl flex items-center justify-center mb-4" style={{ background: 'linear-gradient(135deg, rgba(217, 158, 48, 0.2) 0%, rgba(217, 158, 48, 0.1) 100%)', border: '2px dashed rgba(217, 158, 48, 0.3)' }}>
                      <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="#D99E30" strokeWidth="1.5" opacity="0.7">
                        <circle cx="12" cy="12" r="10"/>
                        <path d="M8 12h8M12 8v8"/>
                      </svg>
                    </div>
                    <p className="text-white/50 text-sm font-medium">Your pack is empty</p>
                    <p className="text-white/30 text-xs mt-1">Click stickers to add them</p>
                  </div>
                ) : (
                  <div className="space-y-2">
                    {cartStickers.map((sticker, index) => (
                      <div key={sticker.id} className="cart-item-enter flex items-center gap-3 rounded-xl p-3" style={{ backgroundColor: 'rgba(217, 158, 48, 0.1)', border: '1px solid rgba(217, 158, 48, 0.2)', animationDelay: `${index * 50}ms` }}>
                        <div className="w-10 h-10 rounded-lg flex-shrink-0" style={{ background: 'linear-gradient(135deg, #D99E30 0%, #c48a20 100%)' }} />
                        <div className="flex-1 min-w-0">
                          <p className="text-white text-sm font-medium truncate">{sticker.name}</p>
                          <p className="text-white/40 text-xs">{sticker.region}</p>
                        </div>
                        <div className="flex items-center gap-1">
                          <button onClick={() => updateQuantity(sticker.id, -1)} className="w-8 h-8 rounded-lg flex items-center justify-center transition-all hover:scale-110" style={{ backgroundColor: '#D99E30', color: 'white' }}>
                            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="3"><path d="M5 12h14"/></svg>
                          </button>
                          <span className="w-8 text-center text-white text-sm font-bold">{sticker.quantity}</span>
                          <button onClick={() => updateQuantity(sticker.id, 1)} className="w-8 h-8 rounded-lg flex items-center justify-center transition-all hover:scale-110" style={{ backgroundColor: '#D99E30', color: 'white' }}>
                            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="3"><path d="M12 5v14M5 12h14"/></svg>
                          </button>
                        </div>
                      </div>
                    ))}
                  </div>
                )}
              </div>

              {/* TOTALS & CHECKOUT */}
              <div className="flex-shrink-0 p-4" style={{ background: 'linear-gradient(180deg, transparent 0%, rgba(217, 158, 48, 0.1) 100%)', borderTop: '1px solid rgba(217, 158, 48, 0.2)' }}>
                
                {/* Progress Bar */}
                <div className="mb-4 p-4 rounded-xl" style={{ backgroundColor: 'rgba(255, 255, 255, 0.05)', border: '1px solid rgba(255, 255, 255, 0.1)' }}>
                  <div className="flex justify-between text-xs mb-3">
                    <span className="text-white/60 font-medium">Pricing Progress</span>
                    <span className="font-bold" style={{ color: pricingTier.color }}>{pricingTier.tier}</span>
                  </div>
                  
                  <div className="flex gap-1 mb-2">
                    <div className="flex-1 h-2.5 rounded-full overflow-hidden bg-white/10">
                      <div className="h-full rounded-full transition-all duration-500" style={{ width: `${Math.min(100, (totalItems / 10) * 100)}%`, backgroundColor: '#94a3b8' }} />
                    </div>
                    <div className="flex-1 h-2.5 rounded-full overflow-hidden bg-white/10">
                      <div className="h-full rounded-full transition-all duration-500" style={{ width: `${Math.min(100, Math.max(0, (totalItems - 10) / 10) * 100)}%`, backgroundColor: '#D99E30' }} />
                    </div>
                    <div className="flex-1 h-2.5 rounded-full overflow-hidden bg-white/10">
                      <div className="h-full rounded-full transition-all duration-500" style={{ width: `${Math.min(100, Math.max(0, (totalItems - 20) / 10) * 100)}%`, backgroundColor: '#4ade80' }} />
                    </div>
                  </div>
                  
                  <div className="flex justify-between text-xs text-white/40 font-medium">
                    <span>10</span>
                    <span>20</span>
                    <span>30</span>
                  </div>
                </div>

                {/* Price */}
                <div className="flex justify-between items-baseline mb-2">
                  <span className="text-white/60 text-sm font-medium">Total</span>
                  <span className="text-3xl font-bold" style={{ color: '#D99E30' }}>£{totalPrice.toFixed(2)}</span>
                </div>
                
                {savings > 0 && (
                  <div className="text-right mb-4">
                    <span className="text-sm font-bold px-3 py-1 rounded-lg" style={{ backgroundColor: 'rgba(74, 222, 128, 0.2)', color: '#4ade80' }}>
                      You save £{savings.toFixed(2)}!
                    </span>
                  </div>
                )}

                {!canCheckout && totalItems > 0 && (
                  <p className="text-center text-xs mb-3 py-2 rounded-lg font-medium" style={{ backgroundColor: 'rgba(217, 158, 48, 0.1)', color: '#D99E30' }}>
                    Minimum {MIN_ORDER} stickers per order · Add {MIN_ORDER - totalItems} more
                  </p>
                )}

                <button
                  onClick={handleCheckout}
                  disabled={!canCheckout}
                  className="w-full py-4 rounded-xl text-sm font-bold transition-all hover:scale-[1.02]"
                  style={{ 
                    background: canCheckout ? 'linear-gradient(135deg, #D99E30 0%, #c48a20 100%)' : 'rgba(255, 255, 255, 0.1)',
                    color: canCheckout ? 'white' : 'rgba(255, 255, 255, 0.3)',
                    cursor: canCheckout ? 'pointer' : 'not-allowed',
                    boxShadow: canCheckout ? '0 4px 20px rgba(217, 158, 48, 0.5)' : 'none'
                  }}
                >
                  {canCheckout ? 'Proceed to Checkout →' : `Minimum ${MIN_ORDER} stickers required`}
                </button>
              </div>
            </div>

            {/* MOBILE CART DRAWER */}
            <div className="md:hidden fixed bottom-0 left-0 right-0 z-50" style={{ background: 'linear-gradient(180deg, #0A2540 0%, #071a2e 100%)', boxShadow: '0 -4px 20px rgba(10, 37, 64, 0.4)' }}>
              <div className="px-4 py-3 flex items-center justify-between">
                <div className="flex items-center gap-3">
                  <div className="w-12 h-12 rounded-xl flex items-center justify-center font-bold text-base" style={{ backgroundColor: '#D99E30', color: 'white' }}>
                    {totalItems}
                  </div>
                  <div>
                    <p className="text-white text-sm font-semibold">
                      {totalItems === 0 ? 'Your pack is empty' : `${totalItems} sticker${totalItems !== 1 ? 's' : ''}`}
                    </p>
                    <div className="flex items-center gap-2">
                      <span className="text-sm font-bold" style={{ color: '#D99E30' }}>£{totalPrice.toFixed(2)}</span>
                      {savings > 0 && <span className="text-xs font-medium" style={{ color: '#4ade80' }}>Save £{savings.toFixed(2)}</span>}
                    </div>
                  </div>
                </div>
                
                <button
                  onClick={handleCheckout}
                  disabled={!canCheckout}
                  className="px-6 py-3 rounded-xl text-sm font-bold transition-all"
                  style={{ 
                    background: canCheckout ? 'linear-gradient(135deg, #D99E30 0%, #c48a20 100%)' : 'rgba(255, 255, 255, 0.1)',
                    color: canCheckout ? 'white' : 'rgba(255, 255, 255, 0.3)'
                  }}
                >
                  {canCheckout ? 'Checkout →' : `Min ${MIN_ORDER}`}
                </button>
              </div>
              
              <div className="flex h-1.5">
                <div className="transition-all duration-500" style={{ width: `${Math.min(33.33, (totalItems / 10) * 33.33)}%`, backgroundColor: '#94a3b8' }} />
                <div className="transition-all duration-500" style={{ width: `${Math.min(33.33, Math.max(0, (totalItems - 10) / 10) * 33.33)}%`, backgroundColor: '#D99E30' }} />
                <div className="transition-all duration-500" style={{ width: `${Math.min(33.34, Math.max(0, (totalItems - 20) / 10) * 33.34)}%`, backgroundColor: '#4ade80' }} />
              </div>
            </div>
          </div>
        </div>
      );
    }

    // Render the app
    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<OtterseasStickerBuilder />);
  </script>
</body>
</html>
